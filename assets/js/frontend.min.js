!function(e){"use strict";let t=1,o=!0,i={init:function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/jet-woo-products.default",i.productsGridLoadMore),e(document).on("jet-filter-content-rendered",(function(o,n){const r=n.closest(".elementor-element").data("settings");if(r&&r.enable_load_more&&"click"===r.load_more_type){const t=n.find(".jet-woo-products").data("load-more");i.hideTriggerButton(e("#"+r.load_more_trigger_id),t.page,t.pages)}t=1}))},productsGridLoadMore:function(t){const n=t.data("settings");if(n&&n.enable_load_more)switch(n.load_more_type){case"click":const r="#"+n.load_more_trigger_id,a=t.find(".jet-woo-products").data("load-more");i.hideTriggerButton(e(r),a.page,a.pages),e(document).on("click.JetWooBuilderInfinityScroll",r,(function(o){o.preventDefault();const n=t.find(".jet-woo-products"),a=n.data("load-more");a.page!==a.pages&&(e("html, body").animate({scrollTop:n.outerHeight()+n.offset().top},1e3),a.page++,i.ajaxRequest(n,a,r))}));break;case"scroll":if(!window.elementorFrontend||!window.elementorFrontend.isEditMode()){const n=t.data("id");e(window).off("scroll.JetWooBuilderInfinityScroll/"+n).on("scroll.JetWooBuilderInfinityScroll/"+n,i.debounce(250,(function(){const n=t.find(".jet-woo-products"),r=n.data("load-more");r.page!==r.pages&&n.outerHeight()&&o&&(e(window).scrollTop()+e(window).outerHeight()<n.offset().top+n.outerHeight()||(r.page++,i.ajaxRequest(n,r)))})))}}},debounce:function(e,t){let o;return function(i){o&&clearTimeout(o),o=setTimeout((function(){t.call(this,i),o=null}),e)}},ajaxRequest:function(n,r,a){e(a).length&&!window.elementor&&i.hideTriggerButton(e(a),r.page,r.pages);const s=i.getShimmerMarkup();if(t<r.page)for(let e=0;e<r.settings.columns;e++)n.append(s);o=!1,t=r.page;const d=n.closest(".elementor-element").attr("id"),l=e.find('.jet-smart-filters-pagination[data-query-id="'+d+'"]');l&&e(l).find(".jet-filters-pagination__item").each((function(){const t=e(this);t.hasClass("jet-filters-pagination__current")&&t.removeClass("jet-filters-pagination__current"),r.page===e(this).data("value")&&e(this).addClass("jet-filters-pagination__current")})),e.ajax({type:"POST",url:window.jetWooBuilderData.ajax_url,dataType:"json",data:{action:"jet_woo_builder_load_more",settings:r.settings,query:r.query,per_page:r.products_per_page,page:r.page,pages:r.pages}}).done((function(t){const i=e(t.data.html);n.parent().html(i),o=!0,e(document).trigger("jet-load-more-content-rendered",[i])}))},hideTriggerButton:function(e,t,o){+t==+o?e.css("display","none"):e.removeAttr("style")},getShimmerMarkup:function(){return'<div class="jet-woo-products__item jet-woo-builder-product"><div class="jet-woo-products__inner-box"><div class="shimmer shimmer-image"></div><div class="shimmer-content-wrapper"><div class="shimmer shimmer-title"></div><div class="shimmer shimmer-price"></div><div class="shimmer-text-wrapper"><div class="shimmer shimmer-text"></div><div class="shimmer shimmer-text"></div><div class="shimmer shimmer-text"></div></div><div class="shimmer shimmer-btn"></div></div></div></div>'}};e(window).on("elementor/frontend/init",i.init)}(jQuery);